<%= turbo_stream.append "alerts-list" do %>
  <%= render partial: 'alert_row', collection: @alerts, as: :alert %>
<% end %>

<%= turbo_stream.append "alerts-list-mobile" do %>
  <%= render partial: 'alert_card', collection: @alerts, as: :alert %>
<% end %>

<%= turbo_stream.replace "pagination" do %>
  <div id="pagination" data-infinite-scroll-target="pagination" class="py-8 flex justify-center">
    <% if @alerts.next_page %>
      <%= link_to "Next", alerts_path(page: @alerts.next_page, format: :turbo_stream),
          rel: "next",
          class: "hidden" %>
      <div class="text-sm text-gray-500 animate-pulse">Loading more alerts...</div>
    <% else %>
      <div class="text-sm text-gray-500">All alerts loaded</div>
    <% end %>
  </div>
<% end %>
